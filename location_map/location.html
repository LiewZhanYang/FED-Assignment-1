<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Locations - Popular Online</title>

    <!-- MapTiler SDK -->
    <script src="https://cdn.maptiler.com/maptiler-sdk-js/v1.1.1/maptiler-sdk.umd.min.js"></script>
    <link
      href="https://cdn.maptiler.com/maptiler-sdk-js/v1.1.1/maptiler-sdk.css"
      rel="stylesheet"
    />

    <!-- Geocoding Control -->
    <script src="https://cdn.maptiler.com/maptiler-geocoding-control/v1.0.0/maptilersdk.umd.js"></script>
    <link
      href="https://cdn.maptiler.com/maptiler-geocoding-control/v1.0.0/style.css"
      rel="stylesheet"
    />

    <!-- Font Awesome & Remix Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="location.css" />
  </head>
  <body>
    <!-- Navigation Header -->
    <header class="header">
      <div class="nav-container">
        <a href="../contactUs/contactus.html" class="back-btn">
          <i class="ri-arrow-left-circle-line"></i>
          <span>Back to Contact</span>
        </a>
        <h1 class="page-title">
          <i class="fas fa-map-marker-alt"></i>
          Our <span>Locations</span>
        </h1>
        <div class="header-actions">
          <button class="action-btn" id="toggleSidebar">
            <i class="fas fa-list"></i>
            <span>Locations</span>
          </button>
          <button class="action-btn" id="findMe">
            <i class="fas fa-crosshairs"></i>
            <span>Find Me</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h3>Our Branches</h3>
        <button class="close-sidebar" id="closeSidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="search-box">
        <input type="text" placeholder="Search locations..." id="searchInput" />
        <i class="fas fa-search"></i>
      </div>

      <div class="locations-list" id="locationsList">
        <!-- Locations will be populated by JavaScript -->
      </div>

      <div class="sidebar-footer">
        <div class="contact-info">
          <h4>Need Help?</h4>
          <p><i class="fas fa-phone"></i> +60 7-123 4567</p>
          <p><i class="fas fa-envelope"></i> info@popularonline.com</p>
        </div>
      </div>
    </aside>

    <!-- Map Container -->
    <main class="map-container">
      <div id="map"></div>

      <!-- Map Controls -->
      <div class="map-controls">
        <button class="control-btn" id="zoomIn" title="Zoom In">
          <i class="fas fa-plus"></i>
        </button>
        <button class="control-btn" id="zoomOut" title="Zoom Out">
          <i class="fas fa-minus"></i>
        </button>
        <button class="control-btn" id="resetView" title="Reset View">
          <i class="fas fa-home"></i>
        </button>
        <button class="control-btn" id="toggleStyle" title="Toggle Map Style">
          <i class="fas fa-layer-group"></i>
        </button>
      </div>

      <!-- Current Location Info -->
      <div class="location-info" id="locationInfo">
        <div class="info-content">
          <h3 id="locationName">Select a location</h3>
          <p id="locationAddress">Click on a marker to view details</p>
          <div
            class="location-actions"
            id="locationActions"
            style="display: none"
          >
            <button class="action-btn primary" id="getDirections">
              <i class="fas fa-directions"></i>
              Get Directions
            </button>
            <button class="action-btn secondary" id="callBranch">
              <i class="fas fa-phone"></i>
              Call Branch
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
      <div class="loading-content">
        <div class="spinner"></div>
        <h3>Loading Map...</h3>
        <p>Please wait while we load our locations</p>
      </div>
    </div>

    <!-- Legend -->
    <div class="legend" id="legend">
      <div class="legend-header">
        <h4>Legend</h4>
        <button class="toggle-legend" id="toggleLegend">
          <i class="fas fa-eye"></i>
        </button>
      </div>
      <div class="legend-content">
        <div class="legend-item">
          <div class="marker-sample main"></div>
          <span>Main Branch</span>
        </div>
        <div class="legend-item">
          <div class="marker-sample branch"></div>
          <span>Branch Office</span>
        </div>
        <div class="legend-item">
          <div class="marker-sample user"></div>
          <span>Your Location</span>
        </div>
      </div>
    </div>

    <!-- Custom JavaScript -->
    <script src="location.js"></script>
  </body>
</html>
